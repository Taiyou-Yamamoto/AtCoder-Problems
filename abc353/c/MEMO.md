ステップ 2：左右それぞれの「回数」を数える

左の和

L=\sum*{i=1}^{N-1}\sum*{j=i+1}^{N}A*i
• i を固定すると、j は i+1,i+2,\dots,N。
• 候補の数は「最大 − 最小 + 1」＝ N-(i+1)+1 = N-i。
• よって
\sum*{j=i+1}^{N}A*i = (N-i)\,A_i
• これを i=1〜N-1 で足す：
L=\sum*{i=1}^{N-1}(N-i)\,A_i

右の和

R=\sum*{i=1}^{N-1}\sum*{j=i+1}^{N}A*j
• j を固定すると、組める i は 1,2,\dots,j-1。
• 候補の数は「最大 − 最小 + 1」＝ (j-1)-1+1=j-1。
• よって
\sum*{i=1}^{j-1}A*j = (j-1)\,A_j
• これを j=2〜N で足す：
R=\sum*{j=2}^{N}(j-1)\,A_j

⸻

係数をまとめる（ここが肝）

任意の k について、A*k の係数は
(N-k)\;+\;(k-1)\;=\;N-1.
したがって
L+R=\sum*{k=1}^{N}(N-1)\,A*k=(N-1)\sum*{k=1}^{N}A_k.

⸻

極小の具体例（N=4）

(A_1+A_2)+(A_1+A_3)+(A_1+A_4)+(A_2+A_3)+(A_2+A_4)+(A_3+A_4)
= 3A_1+3A_2+3A_3+3A_4=(N-1)\sum A_k。
（各 A_k が 他の 3 人= N-1 回 出るだけの話）

— 以上、ステップ 2 の本質は「各 A_i が何回足されるか＝回数を数える」。
